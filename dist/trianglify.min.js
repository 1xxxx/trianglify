function Trianglify(r,e,o){function l(r,e){for(var l=Math.floor((r+2*o.cell_size)/o.cell_size),n=Math.floor((e+2*o.cell_size)/o.cell_size),a=(l*o.cell_size-r)/2,t=(n*o.cell_size-e)/2,i=o.cell_size-2*o.cell_padding,c=[],f=-a;r+a>=f;f+=o.cell_size)for(var u=-t;e+t>=u;u+=o.cell_size){var s=Math.floor(f+2*Math.random()*i-i),h=Math.floor(u+2*Math.random()*i-i);c.push([s,h])}return c}function n(r){return{x:(r[0][0]+r[1][0]+r[2][0])/3,y:(r[0][1]+r[1][1]+r[2][1])/3}}function a(){var r=Object.keys(colorbrewer),e=colorbrewer[r[Math.floor(Math.random()*r.length)]];r=Object.keys(e);var o=e[r[Math.floor(Math.random()*r.length)]];return o}function t(r,e){var o={};for(var l in r)o[l]=r[l];for(l in e){if(!r.hasOwnProperty(l))throw new Error(l+" is not a configuration option for Trianglify. Check your spelling?");o[l]=e[l]}return o}var i=a(),c=t(defaults,{x_colors:i,y_colors:i});if(o=t(c,o),!(r>0&&e>0))throw new Error("You must specify a width and height when generating patterns.");for(var f=l(r,e),u=Delaunay.triangulate(f),s=[],h=function(r){return f[r]},_=0;_<u.length;_+=3){var d=[u[_],u[_+1],u[_+2]].map(h),g=(n(d),"#000");s.push([g,d])}return Pattern(s,o)}var colorbrewer=require("./colorbrewer"),Delaunay=require("delaunay-fast"),Pattern=require("./pattern"),defaults={cell_size:50,cell_padding:10,x_colors:["#222","#AAA"],y_colors:["#222","#AAA"],color_function:null};Trianglify.colorbrewer=colorbrewer,Trianglify.defaults=defaults,module.exports=Trianglify;